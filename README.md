# 地图创建器 (Map Creator)

一个基于React的网格地图编辑和涂色工具，支持多种编辑模式和地块预设功能。

## 功能特点

### 🎯 核心功能
- **多种编辑模式**：单格编辑、绘画模式、区域选择、填充模式
- **地图管理**：创建、保存、加载、删除地图
- **格子编辑**：颜色设置、自定义信息、实时预览
- **批量操作**：区域选择、批量颜色/信息应用

### 🎨 高级功能
- **地块预设**：预定义地块类型（草地、水域、山地等）
- **拾色器**：从地图上拾取颜色和信息
- **缩放拖拽**：地图缩放和拖拽移动
- **显示选项**：控制坐标和信息的可见性

### 🎮 操作模式
1. **单格编辑**：点击格子进行精确编辑
2. **绘画模式**：拖拽绘制，应用画笔颜色和默认信息
3. **区域选择**：支持拖拽框选和Ctrl多选
4. **填充模式**：智能填充相同颜色的连通区域

## 快速开始

### 安装依赖
```bash
npm install
```

### 开发模式
```bash
npm run dev
```

### 构建生产版本
```bash
npm run build
```

### 预览构建结果
```bash
npm run preview
```

## 使用说明

### 创建地图
1. 点击"地图管理"按钮
2. 填写地图名称、尺寸和格子大小
3. 点击"创建地图"

### 编辑地图
1. 选择操作模式（单格编辑/绘画/选择/填充）
2. 设置画笔颜色和默认信息
3. 在地图上进行编辑操作

### 使用预设
1. 点击"地块预设"打开侧滑面板
2. 选择预设地块类型或添加新预设
3. 点击"应用"将预设设置为当前画笔

### 拾色器
1. 点击"拾色器"按钮激活
2. 点击地图上的格子拾取颜色和信息
3. 拾取后自动设置为当前画笔

### 缩放和拖拽
- **滚轮缩放**：鼠标滚轮放大/缩小
- **拖拽移动**：Ctrl+左键或中键拖拽
- **重置视图**：点击"重置视图"按钮

### 显示选项
- **坐标按钮**：控制格子坐标显示/隐藏
- **信息按钮**：控制格子信息显示/隐藏

## 技术栈

- **前端框架**：React 18
- **构建工具**：Vite
- **样式**：CSS3 (高对比度设计)
- **存储**：localStorage (本地持久化)

## 项目结构

```
src/
├── components/
│   ├── MapGrid.jsx          # 地图网格组件
│   ├── MapGrid.css
│   ├── MapManager.jsx       # 地图管理组件
│   ├── MapManager.css
│   ├── SettingsPanel.jsx    # 设置面板组件
│   ├── SettingsPanel.css
│   ├── PresetManager.jsx    # 预设管理组件
│   └── PresetManager.css
├── App.jsx                  # 主应用组件
├── App.css
├── main.jsx                 # 应用入口
└── index.css               # 全局样式
```

## 特性说明

### 坐标格式
- 使用 `x_y` 格式显示坐标（如：`0_0`, `5_3`）
- 支持坐标显示的开关控制

### 数据存储
- 地图数据保存在浏览器的localStorage中
- 包含地图配置、格子数据和预设信息
- 支持导入/导出功能（通过地图管理）

### 高对比度设计
- 黑白配色方案，简洁明了
- 高可读性，适合长时间使用
- 清晰的状态指示和视觉反馈

## 开发说明

### 添加新功能
1. 在相应的组件中添加功能代码
2. 更新CSS样式
3. 测试功能完整性
4. 更新文档

### 自定义样式
- 主要样式文件：`src/index.css`、`src/App.css`
- 组件样式：各组件对应的CSS文件
- 颜色主题：基于黑白高对比度设计
